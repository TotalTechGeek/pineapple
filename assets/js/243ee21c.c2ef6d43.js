"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[1675],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>h});var s=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,s,r=function(e,t){if(null==e)return{};var n,s,r={},a=Object.keys(e);for(s=0;s<a.length;s++)n=a[s],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=s.createContext({}),c=function(e){var t=s.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=c(e.components);return s.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return s.createElement(s.Fragment,{},t)}},d=s.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,l=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),d=c(n),h=r,m=d["".concat(l,".").concat(h)]||d[h]||p[h]||a;return n?s.createElement(m,o(o({ref:t},u),{},{components:n})):s.createElement(m,o({ref:t},u))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,o=new Array(a);o[0]=d;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:r,o[1]=i;for(var c=2;c<a;c++)o[c]=n[c];return s.createElement.apply(null,o)}return s.createElement.apply(null,n)}d.displayName="MDXCreateElement"},3573:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>a,metadata:()=>i,toc:()=>c});var s=n(7462),r=(n(7294),n(3905));const a={sidebar_position:4},o="Testing Classes",i={unversionedId:"writing-tests/testing-classes",id:"writing-tests/testing-classes",title:"Testing Classes",description:"Normal Classes",source:"@site/docs/writing-tests/testing-classes.md",sourceDirName:"writing-tests",slug:"/writing-tests/testing-classes",permalink:"/docs/writing-tests/testing-classes",draft:!1,editUrl:"https://github.com/TotalTechGeek/pineapple/tree/master/website/docs/writing-tests/testing-classes.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"More Complex Tests",permalink:"/docs/writing-tests/more-complex-tests"},next:{title:"Adding Methods to Pineapple",permalink:"/docs/writing-tests/adding-methods-to-pineapple"}},l={},c=[{value:"Normal Classes",id:"normal-classes",level:2},{value:"Static Methods in Classes",id:"static-methods-in-classes",level:2},{value:"Classes that return Functions",id:"classes-that-return-functions",level:2}],u={toc:c};function p(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,s.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"testing-classes"},"Testing Classes"),(0,r.kt)("h2",{id:"normal-classes"},"Normal Classes"),(0,r.kt)("p",null,"Starting in version ",(0,r.kt)("inlineCode",{parentName:"p"},"v0.6.1"),", you are now able to test classes using the Higher-Order Function syntax. "),(0,r.kt)("p",null,"This allows you to test more complex processes & functionality, and avoid too much cruft."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"/**\n * A basic bank account class; allows for withdrawing & depositing money.\n * \n * @test 100 \n * ~> $.withdraw(10) \n * ~> $.deposit(20) returns $.balance === 110\n * \n * @test 0 ~> $.withdraw(100) throws 'Insufficient funds'\n * \n * @test 0 \n * ~> $.deposit(30) \n * ~> $.deposit(10) returns $.balance === 40 \n * ~> $.withdraw(20) \n * ~> $.withdraw(30) throws 'Insufficient funds'\n * \n * @test 100 \n * ~> $.withdraw(-10) throws \n * ~> $.deposit(-10) throws\n */\n export class Account {\n    constructor(balance) {\n        this.balance = balance\n    }\n\n    withdraw (amount) {\n        if (amount < 0) throw new Error('Amount must be greater than zero')\n        if (this.balance < amount) throw new Error('Insufficient funds')\n        this.balance -= amount\n    }\n\n    deposit (amount) {\n        if (amount < 0) throw new Error('Amount must be greater than zero')\n        this.balance += amount\n    }\n}\n")),(0,r.kt)("p",null,"The first part in the chain will be the arguments that are passed into the constructor, and from then on you'll be able to invoke functions on the class by using ",(0,r.kt)("inlineCode",{parentName:"p"},"$.funcName(...arguments)"),". "),(0,r.kt)("p",null,"At each step in the chain, you will be able to test conditions (for example, to check the current balance of the class instance, or the result of the function call)."),(0,r.kt)("p",null,"Let's examine a slightly better ",(0,r.kt)("inlineCode",{parentName:"p"},"Account")," implementation,"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"/**\n * A basic bank account class; allows for withdrawing & depositing money.\n * \n * @test 50 \n * ~> $.deposit(30) returns 80 \n * ~> $.withdraw(20) returns 60\n * \n * @test 0 \n * ~> $.deposit(10) \n * ~> $.deposit(30) returns 40 \n * ~> $.withdraw(5) returns @ === 35 and $.transactions === 3\n */\n export class Account2 {\n    constructor(balance) {\n        this.balance = balance\n        this.transactions = 0\n    }\n\n    withdraw (amount) {\n        if (amount < 0) throw new Error('Amount must be greater than zero')\n        if (this.balance < amount) throw new Error('Insufficient funds')\n        this.balance -= amount\n        this.transactions++\n        return this.balance\n    }\n\n    deposit (amount) {\n        if (amount < 0) throw new Error('Amount must be greater than zero')\n        this.balance += amount\n        this.transactions++\n        return this.balance\n    }\n}\n")),(0,r.kt)("p",null,"As you can see, each step in the chain can be tested separately. If writing a complex condition, you may use ",(0,r.kt)("inlineCode",{parentName:"p"},"@")," to reference the result of the function call, and ",(0,r.kt)("inlineCode",{parentName:"p"},"$")," to reference the current instance of the class."),(0,r.kt)("p",null,"Functions on a class may only be invoked from the left-hand side of the expression, and its properties may only be accessed on the right side."),(0,r.kt)("h2",{id:"static-methods-in-classes"},"Static Methods in Classes"),(0,r.kt)("p",null,"Static methods in classes may be tested using ",(0,r.kt)("inlineCode",{parentName:"p"},"@test_static"),". "),(0,r.kt)("p",null,"You do not need to provide arguments for a constructor like you typically would for a class test."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"/**\n * @test_static $.add(5, 3) returns 8\n * @test_static $.getPrevious() returns 8\n */\nexport class Math {\n    static previousResult = null\n    static add(a, b) {\n        return this.previousResult = a + b\n    }\n\n    static getPrevious() {\n        return this.previousResult\n    }\n}\n")),(0,r.kt)("h2",{id:"classes-that-return-functions"},"Classes that return Functions"),(0,r.kt)("p",null,"If you have a case where a class returns a function, you may invoke the result by just passing arguments in the next step,"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"/**\n * @test 10 ~> $.getAdd() ~> 5 returns 15\n */\nexport class Adder {\n    constructor(value) {\n        this.value = value\n    }\n\n    getAdd () {\n        return num => num + this.value \n    }\n}\n")))}p.isMDXComponent=!0}}]);